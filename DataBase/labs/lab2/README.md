# Лабораторная работа [#2](https://se.ifmo.ru/courses/db#lab2)

## Вариант 1567


По варианту, выданному преподавателем, составить и выполнить запросы к базе данных "Учебный процесс".

Команда для подключения к базе данных `ucheb`:

```bash
psql -h pg -d ucheb
```
### Задание

Составить запросы на языке SQL (пункты 1-7).

1. Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
`Н_ТИПЫ_ВЕДОМОСТЕЙ`, `Н_ВЕДОМОСТИ`.
Вывести атрибуты: `Н_ТИПЫ_ВЕДОМОСТЕЙ.ИД`, `Н_ВЕДОМОСТИ.ДАТА`.
Фильтры (`AND`): 
a) `Н_ТИПЫ_ВЕДОМОСТЕЙ.НАИМЕНОВАНИЕ > Экзаменационный лист`.
b) `Н_ВЕДОМОСТИ.ЧЛВК_ИД < 105590`.
c) `Н_ВЕДОМОСТИ.ЧЛВК_ИД > 142390`.
Вид соединения: `INNER JOIN`.

2. Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
Таблицы: `Н_ЛЮДИ`, `Н_ВЕДОМОСТИ`, `Н_СЕССИЯ`.
Вывести атрибуты: `Н_ЛЮДИ.ИД`, `Н_ВЕДОМОСТИ.ИД`, `Н_СЕССИЯ.ИД`.
Фильтры (`AND`): 
a) `Н_ЛЮДИ.ИМЯ < Николай`.
b) `Н_ВЕДОМОСТИ.ЧЛВК_ИД = 117219`.
Вид соединения: `RIGHT JOIN`.

3. Вывести число студентов вечерней формы обучения, которые не имеет отчества.
Ответ должен содержать только одно число.

4. В таблице `Н_ГРУППЫ_ПЛАНОВ` найти номера планов, по которым обучается (обучалось) более 2 групп на заочной форме обучения.
Для реализации использовать соединение таблиц.

5. Выведите таблицу со средним возрастом студентов во всех группах (Группа, Средний возраст), где средний возраст больше максимального возраста в группе 3100.

6. Получить список студентов, зачисленных ровно первого сентября 2012 года на первый курс заочной формы обучения. В результат включить:
номер группы;
номер, фамилию, имя и отчество студента;
номер и состояние пункта приказа;
Для реализации использовать соединение таблиц.

7. Вывести список студентов, имеющих одинаковые фамилии, но не совпадающие ид.


### Отчёт по лабораторной работе должен содержать:


1. Текст задания.
2. Реализацию запросов на SQL.
3. Выводы по работе.

### Темы для подготовки к защите лабораторной работы:

1. SQL
2. Соединение таблиц
3. Подзапросы

## Выполнение

- [Скрипт](./script.sql)
- [Отчёт](./docs/report.pdf)
